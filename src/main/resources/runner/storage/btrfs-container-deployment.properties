# Configuration for BTRFS Container Deployment Runner
# This file configures automated deployment of containers with BTRFS storage

# ============================================
# SSH Connection Configuration
# ============================================
ssh.host=192.168.1.100
ssh.port=22
ssh.username=admin
# Use either password or key authentication
ssh.password=
ssh.key_path=/home/user/.ssh/id_rsa
ssh.use_sudo=true

# ============================================
# Storage Configuration (BTRFS)
# ============================================
# Storage provider (currently only btrfs supported)
storage.provider=btrfs

# Storage location ID (must exist in target's /etc/orchestrix/storage-locations.conf)
storage.location.id=btrfs_ssd_main

# Container root directory within storage
storage.container.root=myapp

# Storage quota for container
storage.quota.size=20G

# Enable compression
storage.compression=true

# Snapshot configuration
storage.snapshot.enabled=true
storage.snapshot.frequency=daily
storage.snapshot.retain=7

# ============================================
# Container Configuration
# ============================================
# Container technology (lxc, docker, podman)
container.technology=lxc

# Container name
container.name=myapp-container

# Container image (use either path or url)
container.image.path=/tmp/container-base.tar.gz
#container.image.url=https://example.com/images/container.tar.gz

# Network configuration
container.network.ip=10.0.3.100
container.network.gateway=10.0.3.1

# Resource limits
container.limits.memory=2G
container.limits.cpu=2

# Auto-start on boot
container.autostart=true

# Port mappings (format: host:container,host2:container2)
container.ports=8080:80,8443:443

# Additional bind mounts (format: host:container:options)
# Note: Storage volume is automatically mounted as root
container.mounts=/data/config:/etc/myapp:ro,/data/logs:/var/log/myapp

# ============================================
# LXC-Specific Configuration
# ============================================
# Prepare prerequisites (LXD install, bridge, NAT, etc.)
lxc.prepare_prerequisites=true

# Bridge configuration (if prepare_prerequisites=true)
lxc.bridge.network=10.0.3.0/24
lxc.bridge.name=lxdbr0

# ============================================
# Docker-Specific Configuration (Future)
# ============================================
#docker.registry=docker.io
#docker.network=bridge

# ============================================
# Podman-Specific Configuration (Future)
# ============================================
#podman.rootless=true
#podman.network=podman