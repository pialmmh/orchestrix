#!/bin/bash
# BDCOM Cluster Configuration for FRR + WireGuard Deployment

# Declare associative arrays
declare -A NODE_MGMT_IP
declare -A NODE_OVERLAY_IP
declare -A NODE_AS_NUMBER
declare -A NODE_LXD_NETWORK
declare -A NODE_HOSTNAME
declare -A NODE_SSH_PORT
declare -A NODE_SSH_USER
declare -A NODE_SSH_PASS

# Define node list
NODES=(bdcom1 bdcom2 bdcom3)

# Node 1: SMS Application
NODE_MGMT_IP[bdcom1]=10.255.246.173
NODE_OVERLAY_IP[bdcom1]=10.9.9.4
NODE_AS_NUMBER[bdcom1]=65193
NODE_LXD_NETWORK[bdcom1]=10.10.196.0/24
NODE_HOSTNAME[bdcom1]=bdcom1-bgp
NODE_SSH_PORT[bdcom1]=15605
NODE_SSH_USER[bdcom1]=bdcom
NODE_SSH_PASS[bdcom1]=M6nthDNrxcYfPQLu

# Node 2: SMS Application + Master DB
NODE_MGMT_IP[bdcom2]=10.255.246.174
NODE_OVERLAY_IP[bdcom2]=10.9.9.5
NODE_AS_NUMBER[bdcom2]=65192
NODE_LXD_NETWORK[bdcom2]=10.10.195.0/24
NODE_HOSTNAME[bdcom2]=bdcom2-bgp
NODE_SSH_PORT[bdcom2]=15605
NODE_SSH_USER[bdcom2]=bdcom
NODE_SSH_PASS[bdcom2]=hqv3gJh63buuwXcu

# Node 3: SMS Application + Slave DB
NODE_MGMT_IP[bdcom3]=10.255.246.175
NODE_OVERLAY_IP[bdcom3]=10.9.9.6
NODE_AS_NUMBER[bdcom3]=65191
NODE_LXD_NETWORK[bdcom3]=10.10.194.0/24
NODE_HOSTNAME[bdcom3]=bdcom3-bgp
NODE_SSH_PORT[bdcom3]=15605
NODE_SSH_USER[bdcom3]=bdcom
NODE_SSH_PASS[bdcom3]=ReBJxyd3kGDFW5Cm

# WireGuard Configuration
WG_INTERFACE=wg-overlay
WG_PORT=51820

# Network overlay for WireGuard mesh
OVERLAY_NETWORK=10.9.9.0/24
