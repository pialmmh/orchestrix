# Configuration file for Unique ID Generator Container Launch
# This file is used at runtime to launch and configure containers

# Container identification
CONTAINER_NAME="uid-generator-shard1"
BASE_IMAGE="unique-id-generator-base-v.1.0.0"

# Network configuration
BRIDGE_NAME="lxdbr0"
CONTAINER_IP="10.10.199.51/24"
GATEWAY_IP="10.10.199.1"
DNS_SERVERS="8.8.8.8 8.8.4.4"

# Service configuration
SERVICE_PORT=7001
SERVICE_USER="node"
SERVICE_GROUP="node"
DATA_DIRECTORY="/var/lib/unique-id-generator"
LOG_FILE="/var/log/unique-id-generator.log"

# ====================================
# SHARD CONFIGURATION (RUNTIME)
# ====================================
# These values are set at container launch time
# to enable distributed ID generation

# Shard ID for this instance (must be unique across cluster)
SHARD_ID=1

# Total number of shards in the cluster
TOTAL_SHARDS=1

# Distribution strategy for numeric IDs
# Options: interleaved, range, bit-encoded
DISTRIBUTION_STRATEGY="interleaved"

# ====================================
# BIND MOUNTS (Optional)
# ====================================
# Uncomment to persist data on host

# Mount data directory from host
# HOST_DATA_DIR="/data/unique-id-generator/shard1"

# Mount log directory from host
# HOST_LOG_DIR="/var/log/containers/unique-id-generator/shard1"

# ====================================
# EXAMPLES FOR MULTI-SHARD SETUP
# ====================================
# For a 3-shard setup, create 3 config files:
#
# shard1.cnf:
#   CONTAINER_NAME="uid-generator-shard1"
#   CONTAINER_IP="10.10.199.51/24"
#   SHARD_ID=1
#   TOTAL_SHARDS=3
#
# shard2.cnf:
#   CONTAINER_NAME="uid-generator-shard2"
#   CONTAINER_IP="10.10.199.52/24"
#   SHARD_ID=2
#   TOTAL_SHARDS=3
#
# shard3.cnf:
#   CONTAINER_NAME="uid-generator-shard3"
#   CONTAINER_IP="10.10.199.53/24"
#   SHARD_ID=3
#   TOTAL_SHARDS=3
#
# Then launch each:
#   ./launchUniqueIdGenerator.sh shard1.cnf
#   ./launchUniqueIdGenerator.sh shard2.cnf
#   ./launchUniqueIdGenerator.sh shard3.cnf
#
# Each shard will generate non-overlapping IDs:
# - Shard 1: 1, 4, 7, 10, ...
# - Shard 2: 2, 5, 8, 11, ...
# - Shard 3: 3, 6, 9, 12, ...