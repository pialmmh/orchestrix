# FRR Router Launch Configuration
# Minimal configuration required for FRR router deployment
#
# NETWORKING: Container uses HOST NETWORKING MODE
# - No LXC bridge configuration needed
# - Container shares host's network namespace
# - FRR runs directly on host's external IP
# - ROUTER_ID auto-detected from host's external IP
#
# DEFAULTS APPLIED:
# - ROUTER_ID: Auto-detected from host (can override)
# - ROUTER_HOSTNAME: Same as CONTAINER_NAME (can override)
# - MEMORY_LIMIT: 100MB
# - CPU_LIMIT: 1
# - ENABLE_BGP: true
# - ENABLE_OSPF: false

# =============================================================================
# Required Parameters
# =============================================================================

CONTAINER_NAME="frr-router-1"
BASE_IMAGE="frr-router-base-v.1.0.0"

# =============================================================================
# BGP Configuration
# =============================================================================

ENABLE_BGP="true"
BGP_ASN="65001"

# BGP Neighbors (comma-separated)
# Format: ip:asn,ip:asn
BGP_NEIGHBORS="10.255.246.174:65002,10.255.246.175:65003"

# Networks to announce via BGP (comma-separated)
# Default: Announce LXC bridge subnet 10.10.199.0/24
BGP_NETWORKS="10.10.199.0/24"

# =============================================================================
# OSPF Configuration (Optional)
# =============================================================================

ENABLE_OSPF="false"

# Uncomment to enable OSPF:
# ENABLE_OSPF="true"
# OSPF_AREA="0.0.0.0"
# OSPF_NETWORKS="10.10.199.0/24,192.168.1.0/24"

# =============================================================================
# Optional Overrides
# =============================================================================

# Override auto-detected values (usually not needed):
# ROUTER_ID="10.255.246.173"
# ROUTER_HOSTNAME="my-custom-hostname"
# MEMORY_LIMIT="100MB"
# CPU_LIMIT="1"

# =============================================================================
# Configuration Examples
# =============================================================================

# Example 1: Simple BGP Router (Minimal)
# ----------------------------------------
# Announces LXC subnet to two neighbors
#
# CONTAINER_NAME="bgp-router-1"
# BASE_IMAGE="frr-router-base-v.1.0.0"
# BGP_ASN="65001"
# BGP_NEIGHBORS="10.255.246.174:65002,10.255.246.175:65003"
# BGP_NETWORKS="10.10.199.0/24"

# Example 2: Announce Multiple Subnets
# --------------------------------------
# CONTAINER_NAME="bgp-router-multi"
# BASE_IMAGE="frr-router-base-v.1.0.0"
# BGP_ASN="65001"
# BGP_NEIGHBORS="10.255.246.174:65002"
# BGP_NETWORKS="10.10.199.0/24,192.168.1.0/24,172.16.0.0/16"

# Example 3: OSPF Router
# ------------------------
# CONTAINER_NAME="ospf-router-1"
# BASE_IMAGE="frr-router-base-v.1.0.0"
# ENABLE_BGP="false"
# ENABLE_OSPF="true"
# OSPF_AREA="0.0.0.0"
# OSPF_NETWORKS="10.10.199.0/24,192.168.1.0/24"

# Example 4: BGP + OSPF Combined
# --------------------------------
# CONTAINER_NAME="hybrid-router-1"
# BASE_IMAGE="frr-router-base-v.1.0.0"
# ENABLE_BGP="true"
# BGP_ASN="65001"
# BGP_NEIGHBORS="10.255.246.174:65002"
# BGP_NETWORKS="10.10.199.0/24"
# ENABLE_OSPF="true"
# OSPF_AREA="0.0.0.0"
# OSPF_NETWORKS="192.168.1.0/24"
