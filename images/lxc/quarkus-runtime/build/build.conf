# ============================================
# Quarkus Runtime Container Build Configuration
# ============================================
# Generic template for any Quarkus application
# Edit these values for your specific app

# ============================================
# APPLICATION IDENTITY
# ============================================
# Change these for your app (e.g., "infinite-scheduler", "routesphere")
APP_NAME="my-quarkus-app"
CONTAINER_VERSION="1"
CONTAINER_NAME_PREFIX="${APP_NAME}"

# ============================================
# APPLICATION JAR LOCATION
# ============================================
# Path to your pre-built Quarkus JAR file
# Example: /home/mustafa/telcobright-projects/routesphere/infinite-scheduler/target/infinite-scheduler-1.0.0.jar
APP_JAR_PATH="/path/to/your/app.jar"

# ============================================
# RESOURCE LIMITS
# ============================================
# Adjust based on your app's needs:
# - infinite-scheduler (minimal): 1GB RAM, 2 CPU
# - routesphere (300 TPS): 4GB RAM, 4 CPU
MEMORY_LIMIT="2GB"
CPU_LIMIT="2"

# ============================================
# STORAGE CONFIGURATION
# ============================================
# No quota enforcement (set to false)
# But BTRFS storage still used for container
STORAGE_LOCATION_ID="btrfs_local_main"
STORAGE_QUOTA_SIZE="10G"
STORAGE_QUOTA_ENABLED="false"
STORAGE_COMPRESSION="true"
STORAGE_MONITOR_ENABLED="false"

# ============================================
# NETWORK CONFIGURATION
# ============================================
NETWORK_BRIDGE="lxdbr0"
# Port your Quarkus app listens on (usually 8080-8090)
APP_PORT="8080"
# Promtail metrics port (usually 9080)
PROMTAIL_PORT="9080"

# ============================================
# JAVA CONFIGURATION
# ============================================
JAVA_VERSION="21"
JVM_OPTS="-Xms256m -Xmx1g -XX:+UseG1GC"

# ============================================
# LOGGING CONFIGURATION
# ============================================
# Promtail version for log shipping
PROMTAIL_VERSION="2.9.4"

# Loki endpoint (will be configured at runtime in launch config)
# Default points to grafana-loki-v1
LOKI_HOST="10.10.199.200"
LOKI_PORT="3100"

# Application log settings
LOG_LEVEL="INFO"
LOG_FILE_PATH="/var/log/${APP_NAME}"
LOG_FORMAT="json"  # json or text

# ============================================
# OPTIONAL SERVICES
# ============================================
# Consul integration (optional)
CONSUL_ENABLED="false"
CONSUL_HOST="localhost"
CONSUL_PORT="8500"

# ============================================
# BUILD OPTIONS
# ============================================
BASE_IMAGE="images:debian/12"
EXPORT_CONTAINER="true"
CREATE_SNAPSHOT="false"

# ============================================
# PRESET CONFIGURATIONS
# ============================================
# Uncomment one of these presets or customize above

# Preset: infinite-scheduler (minimal)
# APP_NAME="infinite-scheduler"
# MEMORY_LIMIT="1GB"
# CPU_LIMIT="2"
# STORAGE_QUOTA_SIZE="5G"
# APP_PORT="8081"

# Preset: routesphere (300 TPS SMS processing)
# APP_NAME="routesphere"
# MEMORY_LIMIT="4GB"
# CPU_LIMIT="4"
# STORAGE_QUOTA_SIZE="20G"
# APP_PORT="8082"
