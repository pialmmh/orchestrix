# Grafana-Loki Local Development Configuration
# Version: v1.0
# Environment: Local Development

deployment:
  name: grafana-loki-local
  version: v1.0
  environment: development
  created: 2025-11-01

target:
  host: localhost
  port: 22
  os: local

ssh:
  username: $USER
  useKey: true
  keyPath: ~/.ssh/id_rsa

container:
  name: grafana-loki-dev
  version: 1.0.0
  baseImage: images:debian/12

  resources:
    memory: 1GB
    cpu: 1

storage:
  provider: btrfs
  type: loop-device
  loopImage: /tmp/btrfs-logger-dev.img
  loopSize: 10G
  mountPath: /tmp/btrfs-dev
  quota: 5G

  monitoring:
    enabled: false

services:
  grafana:
    version: "10.2.3"
    port: 3000
  loki:
    version: "2.9.4"
    port: 3100
    retention: 24h  # 1 day
  promtail:
    version: "2.9.4"
    port: 9080

network:
  bridge: lxdbr0
  mode: dhcp

strategy:
  type: fresh-install
  autoRollback: false
  validateAfterDeploy: false
  skipValidation: true

logging:
  rotation:
    enabled: false
