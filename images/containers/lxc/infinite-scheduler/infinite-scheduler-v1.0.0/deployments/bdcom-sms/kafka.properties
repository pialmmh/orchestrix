# Kafka Configuration for Infinite Scheduler - BDCOM SMS VM
# Deployment: bdcom-sms
# Server: 10.255.246.173

# ============================================================================
# KAFKA BOOTSTRAP SERVERS
# ============================================================================

# Kafka broker in LXC container kafka-broker-1
bootstrap.servers=10.10.199.83:9092

# ============================================================================
# PRODUCER CONFIGURATION
# ============================================================================

# Acknowledgment mode
acks=all

# Retries
retries=3
retry.backoff.ms=100

# Batch settings for performance
batch.size=16384
linger.ms=10
buffer.memory=33554432

# Compression
compression.type=snappy

# Idempotence for exactly-once semantics
enable.idempotence=true

# Serializers
key.serializer=org.apache.kafka.common.serialization.StringSerializer
value.serializer=org.apache.kafka.common.serialization.StringSerializer

# ============================================================================
# CONSUMER CONFIGURATION
# ============================================================================

# Consumer group ID
group.id=infinite-scheduler-bdcom

# Auto offset reset
auto.offset.reset=earliest

# Commit strategy
enable.auto.commit=false
max.poll.records=500

# Session timeout
session.timeout.ms=30000
heartbeat.interval.ms=10000

# Deserializers
key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
value.deserializer=org.apache.kafka.common.serialization.StringDeserializer

# ============================================================================
# TOPIC CONFIGURATION
# ============================================================================

# Default topics
topic.scheduled.jobs=infinite-scheduler.jobs.scheduled
topic.executed.jobs=infinite-scheduler.jobs.executed
topic.failed.jobs=infinite-scheduler.jobs.failed

# SMS-specific topics for BDCOM
topic.sms.scheduled=btcl.sms.scheduled
topic.sms.sent=btcl.sms.sent
topic.sms.failed=btcl.sms.failed

# ============================================================================
# ADDITIONAL SETTINGS
# ============================================================================

# Request timeout
request.timeout.ms=30000

# Metadata max age
metadata.max.age.ms=300000

# Reconnect backoff
reconnect.backoff.ms=50
reconnect.backoff.max.ms=1000
