# Quartz Configuration for Infinite Scheduler - BTCL Production
# Deployment: btcl-prod
# Server: 114.130.145.71

# ============================================================================
# SCHEDULER CONFIGURATION
# ============================================================================

org.quartz.scheduler.instanceName = InfiniteScheduler-BTCL
org.quartz.scheduler.instanceId = AUTO
org.quartz.scheduler.skipUpdateCheck = true

# ============================================================================
# THREAD POOL CONFIGURATION
# ============================================================================

org.quartz.threadPool.class = org.quartz.simpl.SimpleThreadPool
org.quartz.threadPool.threadCount = 20
org.quartz.threadPool.threadPriority = 5
org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread = true

# ============================================================================
# JOB STORE CONFIGURATION - MySQL
# ============================================================================

org.quartz.jobStore.class = org.quartz.impl.jdbcjobstore.JobStoreTX
org.quartz.jobStore.driverDelegateClass = org.quartz.impl.jdbcjobstore.StdJDBCDelegate
org.quartz.jobStore.useProperties = false
org.quartz.jobStore.dataSource = btclDS
org.quartz.jobStore.tablePrefix = QRTZ_
org.quartz.jobStore.isClustered = false
org.quartz.jobStore.clusterCheckinInterval = 20000

# ============================================================================
# DATASOURCE CONFIGURATION - BTCL MySQL
# ============================================================================

org.quartz.dataSource.btclDS.driver = com.mysql.cj.jdbc.Driver
org.quartz.dataSource.btclDS.URL = jdbc:mysql://127.0.0.1:3306/btcl_sms?useSSL=false&serverTimezone=Asia/Dhaka&allowPublicKeyRetrieval=true
org.quartz.dataSource.btclDS.user = root
org.quartz.dataSource.btclDS.password = 123456
org.quartz.dataSource.btclDS.maxConnections = 20
org.quartz.dataSource.btclDS.validationQuery = SELECT 1

# ============================================================================
# MISFIRE CONFIGURATION
# ============================================================================

# Jobs that miss their fire time will execute once when scheduler recovers
org.quartz.jobStore.misfireThreshold = 60000

# ============================================================================
# CLUSTERING CONFIGURATION (Currently Disabled)
# ============================================================================

# Uncomment below for multi-node clustered deployment:
# org.quartz.jobStore.isClustered = true
# org.quartz.jobStore.clusterCheckinInterval = 20000
# org.quartz.scheduler.instanceId = AUTO

# ============================================================================
# ADDITIONAL CONFIGURATION
# ============================================================================

# Enable batch acquisition for better performance
org.quartz.jobStore.acquireTriggersWithinLock = true
org.quartz.jobStore.txIsolationLevelSerializable = false

# JMX
org.quartz.scheduler.jmx.export = true
