# Kafka Configuration for Infinite Scheduler - BTCL Production
# Deployment: btcl-prod
# Server: 114.130.145.71

# ============================================================================
# KAFKA BOOTSTRAP SERVERS
# ============================================================================

# Kafka broker addresses (update with actual broker addresses when Kafka is running)
bootstrap.servers=localhost:9092

# Alternative if Kafka runs on different ports:
# bootstrap.servers=localhost:9092,localhost:9093,localhost:9094

# ============================================================================
# PRODUCER CONFIGURATION
# ============================================================================

# Acknowledgment mode
acks=all

# Retries
retries=3
retry.backoff.ms=100

# Batch settings for performance
batch.size=16384
linger.ms=10
buffer.memory=33554432

# Compression
compression.type=snappy

# Idempotence for exactly-once semantics
enable.idempotence=true

# Serializers
key.serializer=org.apache.kafka.common.serialization.StringSerializer
value.serializer=org.apache.kafka.common.serialization.StringSerializer

# ============================================================================
# CONSUMER CONFIGURATION
# ============================================================================

# Consumer group ID
group.id=infinite-scheduler-btcl

# Auto offset reset
auto.offset.reset=earliest

# Commit strategy
enable.auto.commit=false
max.poll.records=500

# Session timeout
session.timeout.ms=30000
heartbeat.interval.ms=10000

# Deserializers
key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
value.deserializer=org.apache.kafka.common.serialization.StringDeserializer

# ============================================================================
# TOPIC CONFIGURATION
# ============================================================================

# Default topics (modify as needed)
topic.scheduled.jobs=infinite-scheduler.jobs.scheduled
topic.executed.jobs=infinite-scheduler.jobs.executed
topic.failed.jobs=infinite-scheduler.jobs.failed

# SMS-specific topics
topic.sms.scheduled=btcl.sms.scheduled
topic.sms.sent=btcl.sms.sent
topic.sms.failed=btcl.sms.failed

# ============================================================================
# KAFKA CONNECT (if using Debezium CDC)
# ============================================================================

# Connect URL (if applicable)
# connect.url=http://localhost:8083

# ============================================================================
# SECURITY CONFIGURATION (if needed)
# ============================================================================

# Uncomment if Kafka uses SASL/SSL
# security.protocol=SASL_SSL
# sasl.mechanism=PLAIN
# sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username="user" password="password";

# ============================================================================
# ADDITIONAL SETTINGS
# ============================================================================

# Request timeout
request.timeout.ms=30000

# Metadata max age
metadata.max.age.ms=300000

# Reconnect backoff
reconnect.backoff.ms=50
reconnect.backoff.max.ms=1000
